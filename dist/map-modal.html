<head>
	<script defer="defer" src="main5bd3b735f48b894e9e4c.js"></script>
	<link href="main.2abdb244.css" rel="stylesheet" />
</head>
<div class="map-modal modal">
	<div class="modal-back"></div>
	<div class="modal-wrapper">
		<div class="modal-exit desktop">
			<button class="desktop">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M1.28933 1.2963C1.68182 0.907753 2.31818 0.907753 2.71067 1.2963L22.6094 20.995C23.0019 21.3836 23.0019 22.0136 22.6094 22.4021C22.2169 22.7906 21.5806 22.7906 21.1881 22.4021L1.28933 2.70335C0.896839 2.31481 0.896839 1.68485 1.28933 1.2963Z"
						fill="#FFF4DA"
					/>
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M1.28977 22.7033C0.897279 22.3147 0.897279 21.6848 1.28977 21.2962L21.1885 1.59748C21.581 1.20894 22.2173 1.20894 22.6098 1.59748C23.0023 1.98603 23.0023 2.61599 22.6098 3.00454L2.71111 22.7033C2.31862 23.0918 1.68226 23.0918 1.28977 22.7033Z"
						fill="#FFF4DA"
					/>
				</svg>
			</button>
		</div>
		<div class="map-modal__content modal-content modal-content--first active">
			<div class="modal-exit mobile">
				<button class="btn-circle mobile">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
						<path
							d="M14 8.5C14.2761 8.5 14.5 8.27614 14.5 8C14.5 7.72386 14.2761 7.5 14 7.5V8.5ZM1.64645 7.64645C1.45118 7.84171 1.45118 8.15829 1.64645 8.35355L4.82843 11.5355C5.02369 11.7308 5.34027 11.7308 5.53553 11.5355C5.7308 11.3403 5.7308 11.0237 5.53553 10.8284L2.70711 8L5.53553 5.17157C5.7308 4.97631 5.7308 4.65973 5.53553 4.46447C5.34027 4.2692 5.02369 4.2692 4.82843 4.46447L1.64645 7.64645ZM14 7.5H2V8.5H14V7.5Z"
							fill="#330D03"
						/>
					</svg>
				</button>
			</div>
			<div class="map-modal__left">
				<div class="map-modal__left-wrapper"><div class="map-modal__map" id="map-modal"></div></div>
			</div>
			<div class="map-modal__right">
				<div class="map-modal__card map-slide map-slide--fastfood">
					<div class="map-slide__img"><img src="./assets/images/main-page/main-news-1.webp" alt="" /></div>
					<div class="map-slide__content">
						<div class="map-slide__type"><span></span>фаст-фуд</div>
						<div class="map-slide__address">Можайский вал, 10</div>
						<div class="map-slide__time">08:00 - 20:00</div>
						<div class="map-slide__underground">
							<p>
								<span
									><svg xmlns="http://www.w3.org/2000/svg" width="24" height="19" viewBox="0 0 24 19" fill="none">
										<path
											d="M12.097 0C5.74571 0 0.596741 5.69056 0.596741 12.7103C0.596741 16.5166 2.09714 18.9989 2.09714 18.9989L22.092 19C22.092 19 23.5967 16.287 23.5967 12.71C23.5967 5.69056 18.4478 0 12.097 0ZM21.2485 17.4516L2.98181 17.4429C2.98181 17.4429 2.00845 15.4248 2.00845 12.6702C2.00845 6.51766 6.54242 1.52969 12.1355 1.52969C17.7284 1.52969 22.2626 6.5174 22.2626 12.6702C22.2629 15.456 21.2485 17.4516 21.2485 17.4516Z"
											fill="#330D03"
										/>
										<path
											d="M15.3469 4.08307L15.2026 4.08282L12.135 10.0938L8.95708 4.03149L4.60602 14.9832H3.48157V15.8629H9.64173V14.9832H8.41943L9.64173 11.5605L12.135 15.8629L14.5307 11.5605L15.7527 14.9832H14.5307V15.8629H20.6417V14.9832H19.583L15.3469 4.08307Z"
											fill="#330D03"
										/>
									</svg> </span
								>Студенческая
							</p>
							<p>
								<span
									><svg xmlns="http://www.w3.org/2000/svg" width="24" height="19" viewBox="0 0 24 19" fill="none">
										<path
											d="M12.097 0C5.74571 0 0.596741 5.69056 0.596741 12.7103C0.596741 16.5166 2.09714 18.9989 2.09714 18.9989L22.092 19C22.092 19 23.5967 16.287 23.5967 12.71C23.5967 5.69056 18.4478 0 12.097 0ZM21.2485 17.4516L2.98181 17.4429C2.98181 17.4429 2.00845 15.4248 2.00845 12.6702C2.00845 6.51766 6.54242 1.52969 12.1355 1.52969C17.7284 1.52969 22.2626 6.5174 22.2626 12.6702C22.2629 15.456 21.2485 17.4516 21.2485 17.4516Z"
											fill="#330D03"
										/>
										<path
											d="M15.3469 4.08307L15.2026 4.08282L12.135 10.0938L8.95708 4.03149L4.60602 14.9832H3.48157V15.8629H9.64173V14.9832H8.41943L9.64173 11.5605L12.135 15.8629L14.5307 11.5605L15.7527 14.9832H14.5307V15.8629H20.6417V14.9832H19.583L15.3469 4.08307Z"
											fill="#330D03"
										/>
									</svg> </span
								>Киевская
							</p>
						</div>
						<div class="map-slide__btn"><button class="small-btn">проложить маршрут</button></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	document.addEventListener("DOMContentLoaded", () => {
		const mapModalMarkers = [
			{
				address: "Можайский вал, 10",
				coordinate: [37.528583852499565, 55.73236309372132],
				active: true,
				type: "fast-food",
			},
		];
		document.querySelector('[data-modal="map"]').addEventListener("click", () => {
			initModalMap();
		});
		async function initModalMap() {
			await ymaps3.ready;
			const { YMap, YMapDefaultSchemeLayer, YMapDefaultFeaturesLayer, YMapMarker } = ymaps3;
			const mapModal = new YMap(document.getElementById("map-modal"), {
				location: {
					center: [37.588144, 55.733842],
					zoom: 10,
				},
			});
			mapModal.addChild(new YMapDefaultSchemeLayer());
			mapModal.addChild(new YMapDefaultFeaturesLayer({ zIndex: 1800 }));

			let content = document.createElement("div");
			content.classList.add("marker", "fast-food", "active");
			content.insertAdjacentHTML(
				"beforeend",
				`
				<svg xmlns="http://www.w3.org/2000/svg" width="34" height="48" viewBox="0 0 34 48" fill="none">
					<path d="M12.6411 13.8965L16.5265 27.3095H14.6303L10.6891 13.8965H8.47688L12.2879 27.3095H10.3731L6.59924 13.8965H4.40557L8.23519 27.3095H6.33898L2.54653 13.8965H0.278503L4.9447 30.2964C5.57677 32.5226 7.49158 36.1959 11.0052 37.4018L20.0773 40.3701L22.1036 47.5497H24.5018L14.9463 13.8965H12.6411Z" fill="#FFF4DA"/>
					<path d="M27.5682 12.134C27.9958 12.4123 29.4087 13.0802 30.617 12.5607C32.0299 11.967 31.5094 10.4643 30.2638 9.51819L32.662 9.25846L30.5799 6.8096C31.9556 3.85984 29.9292 2.46844 28.8881 2.17161C28.1817 1.96754 27.2522 2.00464 26.49 2.50555C25.9323 0.92863 24.7425 -0.0360707 23.2553 0.00103315C18.9051 0.112345 20.0391 4.93585 20.0391 4.93585L25.3002 5.47386C25.3002 5.47386 27.3823 5.64083 26.6945 5.67793C21.2475 6.08607 18.1057 12.6349 18.1057 18.7014L23.9803 39.4239L29.7247 35.0271C35.2089 29.1832 33.3312 23.3394 30.0779 16.939C28.7394 14.3973 27.7913 12.5422 27.5682 12.134Z" fill="#FFF4DA"/>
				</svg>
			`
			);
			const markerModal = new YMapMarker(
				{
					coordinates: [37.528583852499565, 55.73236309372132],
					draggable: false,
				},
				content
			);
			mapModal.addChild(markerModal);
			document.querySelector(".map-modal .modal-back").addEventListener("click", () => setTimeout(() => mapModal.destroy(), 500));
			document.querySelector(".map-modal .modal-exit").addEventListener("click", () => setTimeout(() => mapModal.destroy(), 500));
		}
	});
</script>
